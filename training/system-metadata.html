<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>NCEAS Data Team Training</title>
  <meta name="description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="NCEAS Data Team Training" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects" />
  <meta name="github-repo" content="rstudio/datateam-training" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="NCEAS Data Team Training" />
  
  <meta name="twitter:description" content="This is a training guide and reference resource for NCEAS data team members working on the SASAP and Arctic Data Center projects" />
  

<meta name="author" content="Jeanette Clark, Jesse Goldstein, Dominic Mullen, Bryce Mecum, Matt Jones, Peter Slaughter, Irene Steves, Mitchell Maier, Emily O’Dean">


<meta name="date" content="2018-10-11">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="update-a-data-package.html">
<link rel="next" href="using-git-in-rstudio.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet" />
<script src="libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="libs/jsonedit-binding-2.1.0/jsonedit.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="../styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Team Training</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to NCEAS!</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#first-day-to-dos"><i class="fa fa-check"></i>First day to-dos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#account-information"><i class="fa fa-check"></i>Account information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#nceas-events"><i class="fa fa-check"></i>NCEAS Events</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html"><i class="fa fa-check"></i><b>1</b> Introduction to open science</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#open-science-background-reading"><i class="fa fa-check"></i><b>1.1</b> Open science background reading</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#effective-data-management"><i class="fa fa-check"></i><b>1.2</b> Effective data management</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#using-dataone"><i class="fa fa-check"></i><b>1.3</b> Using DataONE</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#working-on-a-remote-server"><i class="fa fa-check"></i><b>1.4</b> Working on a remote server</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#cyberduck-instructions"><i class="fa fa-check"></i><b>1.5</b> Cyberduck instructions</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-paths"><i class="fa fa-check"></i><b>1.6</b> A note on paths</a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#a-note-on-scripts"><i class="fa fa-check"></i><b>1.7</b> A note on scripts</a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-open-science.html"><a href="introduction-to-open-science.html#exercise-1"><i class="fa fa-check"></i><b>1.8</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html"><i class="fa fa-check"></i><b>2</b> Create data packages in R</a><ul>
<li class="chapter" data-level="2.1" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#what-is-in-a-package"><i class="fa fa-check"></i><b>2.1</b> What is in a package?</a></li>
<li class="chapter" data-level="2.2" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#about-identifiers"><i class="fa fa-check"></i><b>2.2</b> About identifiers</a></li>
<li class="chapter" data-level="2.3" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#uploading-packages-using-r"><i class="fa fa-check"></i><b>2.3</b> Uploading packages using R</a></li>
<li class="chapter" data-level="2.4" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#publish-an-object"><i class="fa fa-check"></i><b>2.4</b> Publish an object</a></li>
<li class="chapter" data-level="2.5" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#create-a-resource-map"><i class="fa fa-check"></i><b>2.5</b> Create a resource map</a></li>
<li class="chapter" data-level="2.6" data-path="create-data-packages-in-r.html"><a href="create-data-packages-in-r.html#exercise-2"><i class="fa fa-check"></i><b>2.6</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="explore-eml.html"><a href="explore-eml.html"><i class="fa fa-check"></i><b>3</b> Explore EML</a><ul>
<li class="chapter" data-level="3.1" data-path="explore-eml.html"><a href="explore-eml.html#navigate-through-eml"><i class="fa fa-check"></i><b>3.1</b> Navigate through EML</a></li>
<li class="chapter" data-level="3.2" data-path="explore-eml.html"><a href="explore-eml.html#understand-the-eml-schema"><i class="fa fa-check"></i><b>3.2</b> Understand the EML schema</a></li>
<li class="chapter" data-level="3.3" data-path="explore-eml.html"><a href="explore-eml.html#access-specific-elements"><i class="fa fa-check"></i><b>3.3</b> Access specific elements</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html"><i class="fa fa-check"></i><b>4</b> Edit EML in R</a><ul>
<li class="chapter" data-level="4.1" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#get-package-and-eml"><i class="fa fa-check"></i><b>4.1</b> Get package and EML</a></li>
<li class="chapter" data-level="4.2" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-an-eml-element"><i class="fa fa-check"></i><b>4.2</b> Edit an EML element</a><ul>
<li class="chapter" data-level="4.2.1" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-eml-with-strings"><i class="fa fa-check"></i><b>4.2.1</b> Edit EML with strings</a></li>
<li class="chapter" data-level="4.2.2" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-eml-with-the-eml-package"><i class="fa fa-check"></i><b>4.2.2</b> Edit EML with the “EML” package</a></li>
<li class="chapter" data-level="4.2.3" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-eml-with-objects"><i class="fa fa-check"></i><b>4.2.3</b> Edit EML with objects</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-attributelists"><i class="fa fa-check"></i><b>4.3</b> Edit attributeLists</a><ul>
<li class="chapter" data-level="4.3.1" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-attributes"><i class="fa fa-check"></i><b>4.3.1</b> Edit Attributes</a></li>
<li class="chapter" data-level="4.3.2" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-custom-units"><i class="fa fa-check"></i><b>4.3.2</b> Edit Custom Units</a></li>
<li class="chapter" data-level="4.3.3" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-factors"><i class="fa fa-check"></i><b>4.3.3</b> Edit Factors</a></li>
<li class="chapter" data-level="4.3.4" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#finalize-attributelist"><i class="fa fa-check"></i><b>4.3.4</b> Finalize attributeList</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#set-physical"><i class="fa fa-check"></i><b>4.4</b> Set physical</a></li>
<li class="chapter" data-level="4.5" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-datatables"><i class="fa fa-check"></i><b>4.5</b> Edit dataTables</a></li>
<li class="chapter" data-level="4.6" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-otherentities"><i class="fa fa-check"></i><b>4.6</b> Edit otherEntities</a><ul>
<li class="chapter" data-level="4.6.1" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#remove-otherentities"><i class="fa fa-check"></i><b>4.6.1</b> Remove otherEntities</a></li>
<li class="chapter" data-level="4.6.2" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#create-otherentities"><i class="fa fa-check"></i><b>4.6.2</b> Create otherEntities</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#edit-spatialvectors"><i class="fa fa-check"></i><b>4.7</b> Edit spatialVectors</a></li>
<li class="chapter" data-level="4.8" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#set-coverages"><i class="fa fa-check"></i><b>4.8</b> Set coverages</a></li>
<li class="chapter" data-level="4.9" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#set-methods"><i class="fa fa-check"></i><b>4.9</b> Set methods</a><ul>
<li class="chapter" data-level="4.9.1" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#adding-sampling-info-to-methods-section"><i class="fa fa-check"></i><b>4.9.1</b> Adding sampling info to methods section</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#set-parties"><i class="fa fa-check"></i><b>4.10</b> Set parties</a></li>
<li class="chapter" data-level="4.11" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#validate-eml-and-update-package"><i class="fa fa-check"></i><b>4.11</b> Validate EML and update package</a></li>
<li class="chapter" data-level="4.12" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#sasap-package-workflows"><i class="fa fa-check"></i><b>4.12</b> SASAP package workflows</a></li>
<li class="chapter" data-level="4.13" data-path="edit-eml-in-r.html"><a href="edit-eml-in-r.html#exercise-3"><i class="fa fa-check"></i><b>4.13</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="update-a-data-package.html"><a href="update-a-data-package.html"><i class="fa fa-check"></i><b>5</b> Update a data package</a><ul>
<li class="chapter" data-level="5.1" data-path="update-a-data-package.html"><a href="update-a-data-package.html#update-a-data-file"><i class="fa fa-check"></i><b>5.1</b> Update a data file</a></li>
<li class="chapter" data-level="5.2" data-path="update-a-data-package.html"><a href="update-a-data-package.html#update-a-package-with-a-new-data-object"><i class="fa fa-check"></i><b>5.2</b> Update a package with a new data object</a><ul>
<li class="chapter" data-level="5.2.1" data-path="update-a-data-package.html"><a href="update-a-data-package.html#publish-update"><i class="fa fa-check"></i><b>5.2.1</b> Publish update</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="update-a-data-package.html"><a href="update-a-data-package.html#exercise-4"><i class="fa fa-check"></i><b>5.3</b> Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="system-metadata.html"><a href="system-metadata.html"><i class="fa fa-check"></i><b>6</b> System metadata</a><ul>
<li class="chapter" data-level="6.1" data-path="system-metadata.html"><a href="system-metadata.html#edit-sysmeta"><i class="fa fa-check"></i><b>6.1</b> Edit sysmeta</a><ul>
<li class="chapter" data-level="6.1.1" data-path="system-metadata.html"><a href="system-metadata.html#identifiers-and-sysmeta"><i class="fa fa-check"></i><b>6.1.1</b> Identifiers and sysmeta</a></li>
<li class="chapter" data-level="6.1.2" data-path="system-metadata.html"><a href="system-metadata.html#additional-resources"><i class="fa fa-check"></i><b>6.1.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="system-metadata.html"><a href="system-metadata.html#set-rights-and-access"><i class="fa fa-check"></i><b>6.2</b> Set rights and access</a><ul>
<li class="chapter" data-level="6.2.1" data-path="system-metadata.html"><a href="system-metadata.html#exercise-5"><i class="fa fa-check"></i><b>6.2.1</b> Exercise 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html"><i class="fa fa-check"></i><b>7</b> Using Git in RStudio</a><ul>
<li class="chapter" data-level="7.1" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a><ul>
<li class="chapter" data-level="7.1.1" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#so-why-do-i-need-to-use-this-again"><i class="fa fa-check"></i><b>7.1.1</b> So why do I need to use this again?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#setting-up-git"><i class="fa fa-check"></i><b>7.2</b> Setting up Git</a><ul>
<li class="chapter" data-level="7.2.1" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#cloning-the-arctic-data-repo"><i class="fa fa-check"></i><b>7.2.1</b> Cloning the arctic-data repo</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#working-with-the-repository"><i class="fa fa-check"></i><b>7.3</b> Working with the repository</a><ul>
<li class="chapter" data-level="7.3.1" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#adding-a-new-script"><i class="fa fa-check"></i><b>7.3.1</b> Adding a new script</a></li>
<li class="chapter" data-level="7.3.2" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#editing-a-script"><i class="fa fa-check"></i><b>7.3.2</b> Editing a script</a></li>
<li class="chapter" data-level="7.3.3" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#where-do-i-commit"><i class="fa fa-check"></i><b>7.3.3</b> Where do I commit?</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="using-git-in-rstudio.html"><a href="using-git-in-rstudio.html#my-git-tab-disappeared"><i class="fa fa-check"></i><b>7.4</b> My Git tab disappeared</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-rt.html"><a href="using-rt.html"><i class="fa fa-check"></i><b>8</b> Using RT</a><ul>
<li class="chapter" data-level="8.1" data-path="using-rt.html"><a href="using-rt.html#navigate-rt"><i class="fa fa-check"></i><b>8.1</b> Navigate RT</a><ul>
<li class="chapter" data-level="8.1.1" data-path="using-rt.html"><a href="using-rt.html#front-page"><i class="fa fa-check"></i><b>8.1.1</b> Front page</a></li>
<li class="chapter" data-level="8.1.2" data-path="using-rt.html"><a href="using-rt.html#all-tickets"><i class="fa fa-check"></i><b>8.1.2</b> All tickets</a></li>
<li class="chapter" data-level="8.1.3" data-path="using-rt.html"><a href="using-rt.html#example-ticket"><i class="fa fa-check"></i><b>8.1.3</b> Example ticket</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="nesting-a-data-package.html"><a href="nesting-a-data-package.html"><i class="fa fa-check"></i><b>9</b> Nesting a data package</a><ul>
<li class="chapter" data-level="9.1" data-path="nesting-a-data-package.html"><a href="nesting-a-data-package.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="nesting-a-data-package.html"><a href="nesting-a-data-package.html#add-children-to-an-existing-parent"><i class="fa fa-check"></i><b>9.2</b> Add children to an existing parent</a></li>
<li class="chapter" data-level="9.3" data-path="nesting-a-data-package.html"><a href="nesting-a-data-package.html#create-a-new-parent-package"><i class="fa fa-check"></i><b>9.3</b> Create a new parent package</a></li>
<li class="chapter" data-level="9.4" data-path="nesting-a-data-package.html"><a href="nesting-a-data-package.html#creating-a-new-parent-package-example"><i class="fa fa-check"></i><b>9.4</b> Creating a new Parent package example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="building-provenance.html"><a href="building-provenance.html"><i class="fa fa-check"></i><b>10</b> Building Provenance</a><ul>
<li class="chapter" data-level="10.1" data-path="building-provenance.html"><a href="building-provenance.html#introduction-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="building-provenance.html"><a href="building-provenance.html#the-prov-editor"><i class="fa fa-check"></i><b>10.2</b> The Prov Editor</a></li>
<li class="chapter" data-level="10.3" data-path="building-provenance.html"><a href="building-provenance.html#understanding-resource-maps"><i class="fa fa-check"></i><b>10.3</b> Understanding resource maps</a></li>
<li class="chapter" data-level="10.4" data-path="building-provenance.html"><a href="building-provenance.html#datapack"><i class="fa fa-check"></i><b>10.4</b> <code>datapack</code></a><ul>
<li class="chapter" data-level="10.4.1" data-path="building-provenance.html"><a href="building-provenance.html#fixing-mistakes"><i class="fa fa-check"></i><b>10.4.1</b> Fixing mistakes</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="building-provenance.html"><a href="building-provenance.html#references"><i class="fa fa-check"></i><b>10.5</b> References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://nceas.github.io/datateam-training/reference" target="blank">Reference Guide</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NCEAS Data Team Training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="system-metadata" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> System metadata</h1>
<p>Every object on the ADC (or on the KNB (the ‘Knowledge Network for Biocomplexity’)) has “system metadata”. An object’s system metadata have information about the file itself, such as the name of the file (<code>fileName</code>), the format (<code>formatId</code>), who the <code>rightsHolder</code> is, what the <code>accessPolicy</code> is, and more. Sometimes we will need to edit system metadata in order to make sure that things on the webpage display correctly, or to ensure a file downloads from the website with the correct file name and extension.</p>
<p>Although the majority of system metadata changes that need to be made are done automatically, sometimes we need to change aspects of the system metadata (or ‘sysmeta’ for short) manually.</p>
<div id="edit-sysmeta" class="section level2">
<h2><span class="header-section-number">6.1</span> Edit sysmeta</h2>
<p>To edit the sysmeta of an object (data file, EML, or resource map, etc.) with a <code>PID</code>, first load the sysmeta into R using the following command:</p>
<pre class="sourceCode r"><code class="sourceCode r">sysmeta &lt;-<span class="st"> </span><span class="kw">getSystemMetadata</span>(mn, pid)</code></pre>
<p>Then edit the sysmeta slots by using <code>@</code> functionality. For example, to change the <code>fileName</code> use the following command:</p>
<pre class="sourceCode r"><code class="sourceCode r">sysmeta<span class="op">@</span>fileName &lt;-<span class="st"> &#39;NewFileName.csv&#39;</span></code></pre>
<p>Note that some slots cannot be changed by simple text replace (particularly the <code>accessPolicy</code>). There are various helper functions for changing the <code>accessPolicy</code> and <code>rightsHolder</code> such as <code>datapack::addAccessRule</code> (which takes the sysmeta as an input) or <a href="system-metadata.html#set-rights-and-access"><code>arcticdatautils::set_rights_and_access</code></a>, which only requires a <code>PID</code>. In general, you most frequently need to use <code>dataone::getSystemMetadata</code> to change either the <code>formatId</code> or <code>fileName</code> slots (see <a href="https://cn.dataone.org/cn/v2/formats">the DataONE list of format ids</a>) for acceptable formats.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Example of setting the formatId slot</span>
sysmeta<span class="op">@</span>formatId &lt;-<span class="st"> &quot;eml://ecoinformatics.org/eml-2.1.1&quot;</span></code></pre>
<p>After you have changed the necessary slot, you can update the system metadata using the following command:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">updateSystemMetadata</span>(mn, pid, sysmeta)</code></pre>
<div id="identifiers-and-sysmeta" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Identifiers and sysmeta</h3>
<p>Importantly, changing the system metadata does NOT necessitate a change in the <code>PID</code> of an object. This is because changes to the system metadata do not change the object itself, they are only changing the description of the object (although ideally the system metadata are accurate when an object is first published).</p>
</div>
<div id="additional-resources" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Additional resources</h3>
<p>For a more in-depth (and technical) guide to sysmeta, check out the DataONE documentation:</p>
<ul>
<li><a href="https://releases.dataone.org/online/api-documentation-v2.0.1/design/SystemMetadata.html">System Metadata</a></li>
<li><a href="https://releases.dataone.org/online/api-documentation-v2.0.1/apis/Types2.html">Data Types in CICore</a></li>
</ul>
</div>
</div>
<div id="set-rights-and-access" class="section level2">
<h2><span class="header-section-number">6.2</span> Set rights and access</h2>
<p>One final step when creating/updating packages is to make sure that the rights and access on all the objects that were uploaded are set correctly within the sysmeta. The function <code>arcticdatautils::set_rights_and_access</code> will set both, and <code>arcticdatautils::set_access</code> will just set access. There are two functions for this because a <code>rightsHolder</code> should always have access, but not all people who need access are <code>rightsHolder</code>s. The <code>rightsHolder</code> of the data package is typically the <code>submitter</code> (if the data set is submitted through the web form (“editor”)), but if a data team member is publishing objects for a PI, the <code>rightsHolder</code> should be the main point of contact for the data set (i.e. the person who requested that we upload the data for them).</p>
<p>To set the rights and access for all of the objects in a <a href="edit-eml-in-r.html#get-package-and-eml">package</a>, first get the ORCiD of the person to whom you are giving rights and access.
You can set this manually, or grab it from one of the creators in an EML file. You can look up ORCID iDs <a href="https://orcid.org/orcid-search/search">here</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Manually set ORCiD</span>
 subject &lt;-<span class="st"> &#39;http://orcid.org/PUT0-YOUR-ORCD-HERE&#39;</span>

<span class="co"># Set ORCiD from EML creator</span>
 subject &lt;-<span class="st"> </span>eml<span class="op">@</span>dataset<span class="op">@</span>creator[[<span class="dv">1</span>]]<span class="op">@</span>userId[[<span class="dv">1</span>]]<span class="op">@</span>.Data
 <span class="co"># As a convention we use `http:` instead of `https:` in our system metadata</span>
 subject &lt;-<span class="st"> </span><span class="kw">sub</span>(<span class="st">&quot;^https://&quot;</span>, <span class="st">&quot;http://&quot;</span>, subject)</code></pre>
<p>Note, when setting metadata, the ORCiD must start with <code>http://</code>. ORCiDs in EML should start with <code>https://</code>. The <code>sub</code> command above will change this formatting for you.</p>
<p>Next, set the rights and access using the following command:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set_rights_and_access</span>(adc_test, 
                      <span class="dt">pids =</span> <span class="kw">c</span>(pkg<span class="op">$</span>metadata, pkg<span class="op">$</span>data, pkg<span class="op">$</span>resource_map),
                      <span class="dt">subject =</span> subject,
                      <span class="dt">permissions =</span> <span class="kw">c</span>(<span class="st">&#39;read&#39;</span>,<span class="st">&#39;write&#39;</span>,<span class="st">&#39;changePermission&#39;</span>))</code></pre>
<p>If you ever need to remove/add public access to your package or object, you can use <code>remove_public_read</code> or <code>set_public_read</code>, respectively.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">remove_public_read</span>(adc_test, <span class="kw">c</span>(pkg<span class="op">$</span>metadata, pkg<span class="op">$</span>data, pkg<span class="op">$</span>resource_map))</code></pre>
<div id="exercise-5" class="section level3 exercise">
<h3><span class="header-section-number">6.2.1</span> Exercise 5</h3>
<ul>
<li>Read the system metadata in from the data file you uploaded <a href="update-a-data-package.html#exercise-4">previously</a>.</li>
<li>Check to make sure the <code>fileName</code> and <code>formatId</code> are set correctly.</li>
<li>Update the system metadata if necessary.</li>
<li>Set the rights and access for all objects with your ORCiD.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="update-a-data-package.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-git-in-rstudio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
